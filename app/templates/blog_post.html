{% extends 'base.html' %}

{% block title %}{{ post.title }} â€” Rozoom-KI Blog{% endblock %}

{% block content %}
<div class="blog-post-page">
  <div class="blog-post-header">
    <div class="post-meta">
      {% if post.category %}
        <a href="{{ url_for('pages.blog_category', category=post.category) }}" class="post-category">{{ post.category }}</a>
      {% endif %}
      <span class="post-date">{{ post.created_at.strftime('%B %d, %Y') }}</span>
    </div>
    <h1 class="post-title">{{ post.title }}</h1>
    <div class="post-author">
      {% if post.author_image %}
        <img src="{{ post.author_image }}" alt="{{ post.author }}" class="author-image">
      {% else %}
        <img src="{{ url_for('static', filename='img/blog/default-author.jpg') }}" alt="{{ post.author }}" class="author-image">
      {% endif %}
      <div class="author-info">
        <span class="author-name">{{ post.author }}</span>
        {% if post.author_title %}
          <span class="author-title">{{ post.author_title }}</span>
        {% endif %}
      </div>
    </div>
  </div>
  
  <div class="blog-post-content">
    {% if post.image_url %}
      <div class="post-featured-image">
        <img src="{{ post.image_url }}" alt="{{ post.title }}">
      </div>
    {% endif %}
    
    <div class="post-body">
      {{ post.content|safe }}
    </div>
    
    {% if post.tags %}
      <div class="post-tags">
        <h3>{{ _('Tags') }}:</h3>
        <div class="tag-list">
          {% for tag in post.tags %}
            <a href="{{ url_for('pages.blog_tag', tag=tag) }}" class="tag">{{ tag }}</a>
          {% endfor %}
        </div>
      </div>
    {% endif %}
    
    <div class="post-share">
      <h3>{{ _('Share this post') }}:</h3>
      <div class="share-buttons">
        <a href="https://twitter.com/intent/tweet?url={{ request.url }}&text={{ post.title }}" target="_blank" class="social-link-text">
          Twitter
        </a>
        <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.url }}" target="_blank" class="social-link-text">
          Facebook
        </a>
        <a href="https://www.linkedin.com/shareArticle?mini=true&url={{ request.url }}&title={{ post.title }}" target="_blank" class="social-link-text">
          LinkedIn
        </a>
      </div>
    </div>
  </div>
  
  {% if related_posts %}
    <div class="related-posts">
      <h2>{{ _('Related Posts') }}</h2>
      <div class="related-posts-grid">
        {% for related in related_posts %}
          <div class="related-post">
            <a href="{{ url_for('pages.blog_post', slug=related.slug) }}">
              <div class="related-post-image">
                {% if related.image_url %}
                  <img src="{{ related.image_url }}" alt="{{ related.title }}">
                {% else %}
                  <img src="{{ url_for('static', filename='img/blog/default-post.jpg') }}" alt="{{ related.title }}">
                {% endif %}
              </div>
              <h3>{{ related.title }}</h3>
            </a>
            <span class="related-post-date">{{ related.created_at.strftime('%B %d, %Y') }}</span>
          </div>
        {% endfor %}
      </div>
    </div>
  {% endif %}
  
  <div class="post-navigation">
    {% if prev_post %}
      <a href="{{ url_for('pages.blog_post', slug=prev_post.slug) }}" class="post-nav prev-post">
        <span class="pagination-prev"></span>
        <div class="post-nav-info">
          <span>{{ _('Previous Post') }}</span>
          <h4>{{ prev_post.title }}</h4>
        </div>
      </a>
    {% endif %}
    
    {% if next_post %}
      <a href="{{ url_for('pages.blog_post', slug=next_post.slug) }}" class="post-nav next-post">
        <div class="post-nav-info">
          <span>{{ _('Next Post') }}</span>
          <h4>{{ next_post.title }}</h4>
        </div>
        <span class="pagination-next"></span>
      </a>
    {% endif %}
  </div>
</div>
{% endblock %}
